{"version":3,"sources":["App.tsx","images/o-bottom.png","images/o-top.png","images/re.png","index.tsx"],"names":["OreoTypes","ActionTypes","OREO_TOP","alt","src","O_TOP","sx","transform","OREO_BOTTOM","O_BOTTOM","OREO_RE","RE","OREO_SPACE","style","width","height","AppButton","props","color","minWidth","margin","letterSpacing","controlStyle","position","bottom","background","oreoReducer","state","action","type","ADD_O_TOP","id","nanoid","ADD_O_BOTTOM","ADD_RE","ADD_SPACE","SPACE","REMOVE_TOP","length","newState","splice","REMOVE_BOTTOM","useOreo","useReducer","oreo","dispatch","useMemo","addOTop","addOBottom","addRe","addSpace","removeTop","removeBottom","styleOfOeroType","curr","next","undefined","App","ref","useRef","useEffect","current","parentElement","scrollTo","getBoundingClientRect","flexDirection","flex","alignItems","justifyContent","minHeight","map","index","Component","extraStyle","zIndex","children","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77a0fbb8.chunk.js","sourcesContent":["import { nanoid } from 'nanoid';\nimport React, { Reducer, useEffect, useMemo, useReducer, useRef } from 'react';\nimport { Box, Button, Flex, Image } from 'rebass';\nimport O_BOTTOM from './images/o-bottom.png';\nimport O_TOP from './images/o-top.png';\nimport RE from './images/re.png';\n\nconst OREO_TOP = () => <Image alt=\"O\" src={O_TOP} sx={{ transform: 'scale(0.92)' }} />;\nconst OREO_BOTTOM = () => <Image alt=\"O\" src={O_BOTTOM} sx={{ transform: 'scale(0.92)' }} />;\nconst OREO_RE = () => <Image alt=\"RE\" src={RE} sx={{ transform: 'scale(0.98)' }} />;\nconst OREO_SPACE = () => <Box style={{ width: '100px', height: '120px' }} />;\n\nconst App = () => {\n  const [oreo, { addOTop, addOBottom, addRe, addSpace, removeTop, removeBottom }] = useOreo();\n  const ref = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    ref.current?.parentElement?.scrollTo(0, ref.current.getBoundingClientRect().height);\n  }, [oreo]);\n\n  return (\n    <Flex\n      flexDirection=\"column\"\n      flex=\"1\"\n      alignItems=\"center\"\n      justifyContent=\"flex-end\"\n      ref={ref}\n      style={{ minHeight: '100%' }}\n    >\n      {oreo.map(({ id, type }, index) => {\n        const Component = [OREO_TOP, OREO_BOTTOM, OREO_RE, OREO_SPACE][type];\n        const extraStyle = styleOfOeroType(type, index + 1 < oreo.length ? oreo[index + 1].type : undefined);\n        return <Box key={id} sx={extraStyle} style={{ zIndex: -index }} children={<Component />} />;\n      })}\n\n      <Flex flexDirection=\"row\" justifyContent=\"center\" alignItems=\"center\" sx={controlStyle}>\n        <AppButton onClick={addOTop}>O (top)</AppButton>\n        <AppButton onClick={addSpace}>&</AppButton>\n        <AppButton onClick={addRe}>RE</AppButton>\n        <AppButton onClick={addOBottom}>O (bottom)</AppButton>\n\n        {/* <AppButton onClick={removeTop}>Remove Top</AppButton> */}\n        <AppButton onClick={removeBottom}>Remove Bottom</AppButton>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst AppButton = (props: any) => (\n  <Button {...props} sx={{ color: 'black', minWidth: '50px', margin: '2px', letterSpacing: '-0.5px' }} />\n);\nconst controlStyle: React.CSSProperties = {\n  height: '44px',\n  position: 'fixed',\n  bottom: 0,\n  width: '100%',\n  background: 'white',\n};\n\nenum OreoTypes {\n  O_TOP,\n  O_BOTTOM,\n  RE,\n  SPACE,\n}\ntype Oreo = {\n  id: string;\n  type: OreoTypes;\n};\ntype OreoState = Oreo[];\n\nenum ActionTypes {\n  ADD_O_TOP = 'OREO/ADD/O_TOP',\n  ADD_O_BOTTOM = 'OREO/ADD/O_BOTTOM',\n  ADD_RE = 'OREO/ADD/RE',\n  ADD_SPACE = 'OREO/ADD/SPACE',\n  REMOVE_TOP = 'OREO/REMOVE/TOP',\n  REMOVE_BOTTOM = 'OREO/REMOVE/BOTTOM',\n}\ntype AddOTopAction = {\n  type: ActionTypes.ADD_O_TOP;\n};\ntype AddOBottomAction = {\n  type: ActionTypes.ADD_O_BOTTOM;\n};\ntype AddREAction = {\n  type: ActionTypes.ADD_RE;\n};\ntype AddSpaceAction = {\n  type: ActionTypes.ADD_SPACE;\n};\ntype RemoveTopAction = {\n  type: ActionTypes.REMOVE_TOP;\n};\ntype RemoveBottomAction = {\n  type: ActionTypes.REMOVE_BOTTOM;\n};\ntype OreoActions =\n  | AddOTopAction\n  | AddOBottomAction\n  | AddREAction\n  | AddSpaceAction\n  | RemoveTopAction\n  | RemoveBottomAction;\n\nconst addOTop = () => ({ type: ActionTypes.ADD_O_TOP });\nconst addOBottom = () => ({ type: ActionTypes.ADD_O_BOTTOM });\nconst addRe = () => ({ type: ActionTypes.ADD_RE });\nconst addSpace = () => ({ type: ActionTypes.ADD_SPACE });\nconst removeTop = () => ({ type: ActionTypes.REMOVE_TOP });\nconst removeBottom = () => ({ type: ActionTypes.REMOVE_BOTTOM });\n\nconst oreoReducer: Reducer<OreoState, OreoActions> = (state, action) => {\n  switch (action.type) {\n    case ActionTypes.ADD_O_TOP:\n      return [\n        ...state,\n        {\n          id: nanoid(),\n          type: OreoTypes.O_TOP,\n        },\n      ];\n\n    case ActionTypes.ADD_O_BOTTOM:\n      return [\n        ...state,\n        {\n          id: nanoid(),\n          type: OreoTypes.O_BOTTOM,\n        },\n      ];\n\n    case ActionTypes.ADD_RE:\n      return [\n        ...state,\n        {\n          id: nanoid(),\n          type: OreoTypes.RE,\n        },\n      ];\n\n    case ActionTypes.ADD_SPACE:\n      return [\n        ...state,\n        {\n          id: nanoid(),\n          type: OreoTypes.SPACE,\n        },\n      ];\n\n    case ActionTypes.REMOVE_TOP:\n      if (state.length > 0) {\n        const newState = [...state];\n        newState.splice(0, 1);\n        return newState;\n      }\n      return state;\n\n    case ActionTypes.REMOVE_BOTTOM:\n      if (state.length > 0) {\n        const newState = [...state];\n        newState.splice(state.length - 1, 1);\n        return newState;\n      }\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nconst useOreo = () => {\n  const [oreo, dispatch] = useReducer(oreoReducer, []);\n  const oreoActions = useMemo(\n    () => ({\n      addOTop: () => dispatch(addOTop()),\n      addOBottom: () => dispatch(addOBottom()),\n      addRe: () => dispatch(addRe()),\n      addSpace: () => dispatch(addSpace()),\n      removeTop: () => dispatch(removeTop()),\n      removeBottom: () => dispatch(removeBottom()),\n    }),\n    [dispatch],\n  );\n\n  return [oreo, oreoActions] as const;\n};\nconst styleOfOeroType: (curr: OreoTypes, next: OreoTypes | undefined) => React.CSSProperties = (curr, next) => {\n  if (\n    (curr === OreoTypes.O_TOP || curr === OreoTypes.O_BOTTOM) &&\n    (next === OreoTypes.O_TOP || next === OreoTypes.O_BOTTOM)\n  ) {\n    return {\n      margin: '0 0 -136px',\n    };\n  }\n  if ((curr === OreoTypes.O_TOP || curr === OreoTypes.O_BOTTOM) && next === OreoTypes.RE) {\n    return {\n      margin: '0 0 -108px',\n    };\n  }\n\n  if (curr === OreoTypes.RE && next === OreoTypes.RE) {\n    return {\n      margin: '0 0 -100px',\n    };\n  }\n  if (curr === OreoTypes.RE && (next === OreoTypes.O_TOP || next === OreoTypes.O_BOTTOM)) {\n    return {\n      margin: '0 0 -118px',\n    };\n  }\n\n  if (curr === OreoTypes.SPACE && next === undefined) {\n    return {\n      margin: '0 0 60px',\n    };\n  }\n  if (curr === OreoTypes.SPACE) {\n    return {};\n  }\n  if (next === undefined) {\n    return {};\n  }\n\n  return {\n    margin: '0 0 -100px',\n  };\n};\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/o-bottom.17e1a60e.png\";","export default __webpack_public_path__ + \"static/media/o-top.eff65fad.png\";","export default __webpack_public_path__ + \"static/media/re.4b1a9c2f.png\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}